<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Ficha de Vaga - R.O Recrutamento</title>
    <style>
        /* ========================================
           TEMPLATE PARA FICHA DE VAGA - MELHORADO
           100% Compat√≠vel com estrutura real do Supabase
           Cores da marca: #a65e2e, #d4a574
           ======================================== */
        
        @page {
            size: A4;
            margin: 2.5cm;
            @top-center {
                content: "R.O RECRUTAMENTO - Ficha de Vaga";
                font-size: 12px;
                color: #a65e2e;
                font-weight: bold;
            }
            @bottom-center {
                content: "www.rorecrutamento.com.br | @rorecrutamento | (11) 95107-2131 | Documento confidencial";
                font-size: 10px;
                color: #666;
                border-top: 1px solid #ddd;
                padding-top: 8px;
                margin-top: 20px;
            }
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            color: #333;
            line-height: 1.5;
            background: linear-gradient(135deg, #fefefe 0%, #f8f8f8 100%);
        }
        
        .container {
            width: 100%;
            padding: 0;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        /* ========================================
           CABE√áALHO COM CORES DA MARCA
           ======================================== */
        .header {
            text-align: center;
            background: linear-gradient(135deg, #a65e2e 0%, #d4a574 100%);
            color: white;
            padding: 30px 20px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .vaga-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .company-name {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }
        
        .document-subtitle {
            font-size: 14px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .status-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            margin-top: 15px;
            font-size: 12px;
            position: relative;
            z-index: 1;
        }
        
        .status-ativa { background: #28a745; }
        .status-preenchida { background: #007bff; }
        .status-pausada { background: #ffc107; color: #000; }
        .status-cancelada { background: #dc3545; }
        .status-em-andamento { background: #fd7e14; }
        
        /* ========================================
           SE√á√ïES DE INFORMA√á√ïES
           ======================================== */
        .info-section {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 5px solid #a65e2e;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .section-title {
            color: #a65e2e;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .section-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: #a65e2e;
            margin-right: 10px;
            border-radius: 2px;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .info-row:last-child {
            border-bottom: none;
        }
        
        .label {
            font-weight: 600;
            color: #495057;
            min-width: 40%;
        }
        
        .value {
            color: #333;
            font-weight: 500;
            text-align: right;
            flex: 1;
        }
        
        /* ========================================
           SE√á√ïES ESPECIAIS
           ======================================== */
        .highlight-section {
            background: linear-gradient(135deg, #fff8f0 0%, #f4e8d0 100%);
            border: 2px solid #d4a574;
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .salary-display {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #a65e2e;
            margin: 10px 0;
        }
        
        .urgency-high {
            background: #fff3cd;
            border: 2px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            font-weight: bold;
        }
        
        /* ========================================
           BENEF√çCIOS E LISTAS
           ======================================== */
        .benefits-list {
            background: #e8f5e8;
            border-left: 5px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .benefit-item {
            display: flex;
            align-items: center;
            padding: 5px 0;
            color: #155724;
        }
        
        .benefit-item::before {
            content: "‚úì";
            color: #28a745;
            font-weight: bold;
            margin-right: 10px;
        }
        
        /* ========================================
           DADOS ESPEC√çFICOS
           ======================================== */
        .specific-data {
            background: #e3f2fd;
            border-left: 5px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .specific-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid rgba(33, 150, 243, 0.1);
        }
        
        .specific-item:last-child {
            border-bottom: none;
        }
        
        /* ========================================
           OBSERVA√á√ïES
           ======================================== */
        .observacoes-section {
            background: #f1f3f4;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            border: 2px dashed #a65e2e;
        }
        
        .observacoes-title {
            color: #a65e2e;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .observacoes-content {
            color: #495057;
            line-height: 1.6;
        }
        
        /* ========================================
           FOOTER
           ======================================== */
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 3px solid #a65e2e;
            color: #666;
        }
        
        .footer-logo {
            font-size: 20px;
            font-weight: bold;
            color: #a65e2e;
            margin-bottom: 5px;
        }
        
        .footer-subtitle {
            font-size: 12px;
            color: #999;
        }
        
        /* ========================================
           UTILIDADES
           ======================================== */
        .text-center { text-align: center; }
        .text-bold { font-weight: bold; }
        .text-muted { color: #6c757d; }
        .mb-0 { margin-bottom: 0; }
        .mt-2 { margin-top: 10px; }
        
        /* Formata√ß√£o para hor√°rios de contato */
        .contact-hours {
            display: inline-block;
            background: #e9ecef;
            padding: 4px 8px;
            border-radius: 4px;
            margin: 2px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- ========================================
             CABE√áALHO
             ======================================== -->
        <div class="header">
            <h1 class="vaga-title">FICHA DE VAGA</h1>
            <h2 class="company-name">R.O RECRUTAMENTO</h2>
            <p class="document-subtitle">Gerado em: {{ data_geracao }}</p>
            <span class="status-badge status-{{ status_detalhado|default(status)|default('ativa')|replace('-', '_') }}">
                {{ status_detalhado|default(status)|default('ativa')|upper|replace('-', ' ') }}
            </span>
        </div>
        
        <!-- ========================================
             DADOS DO PROPRIET√ÅRIO
             ======================================== -->
        <div class="info-section">
            <h3 class="section-title">üë§ Dados do Propriet√°rio</h3>
            <div class="info-row">
                <span class="label">Nome Completo:</span>
                <span class="value">{{ nome }} {{ sobrenome }}</span>
            </div>
            <div class="info-row">
                <span class="label">Email:</span>
                <span class="value">{{ email }}</span>
            </div>
            <div class="info-row">
                <span class="label">Telefone Principal:</span>
                <span class="value">{{ telefone_principal }}</span>
            </div>
            {% if telefone_opcional and telefone_opcional != telefone_principal %}
            <div class="info-row">
                <span class="label">Telefone Opcional:</span>
                <span class="value">{{ telefone_opcional }}</span>
            </div>
            {% endif %}
            <div class="info-row">
                <span class="label">Cidade:</span>
                <span class="value">{{ cidade }}</span>
            </div>
            <div class="info-row">
                <span class="label">Endere√ßo:</span>
                <span class="value">{{ rua_numero }}</span>
            </div>
            {% if condominio %}
            <div class="info-row">
                <span class="label">Condom√≠nio:</span>
                <span class="value">{{ condominio }}</span>
            </div>
            {% endif %}
            
            <!-- Prefer√™ncias de Contato -->
            {% if contato_preferido %}
            <div class="info-row">
                <span class="label">Contato Preferido:</span>
                <span class="value">{{ contato_preferido|title }}</span>
            </div>
            {% endif %}
            
            {% if horario_contato %}
            <div class="info-row">
                <span class="label">Melhor Hor√°rio:</span>
                <span class="value">
                    {% for horario in horario_contato_list %}
                        <span class="contact-hours">{{ horario|title }}</span>
                    {% endfor %}
                </span>
            </div>
            {% endif %}
        </div>
        
        <!-- ========================================
             DETALHES DA VAGA
             ======================================== -->
        <div class="highlight-section">
            <h3 class="section-title">üíº Detalhes da Vaga</h3>
            <div class="info-row">
                <span class="label">Tipo de Fun√ß√£o:</span>
                <span class="value text-bold">{{ formulario_id|replace('vaga-', '')|title }}</span>
            </div>
            <div class="salary-display">
                Sal√°rio: R$ {{ salario_oferecido_formatado }}
            </div>
            <div class="info-row">
                <span class="label">Regime de Trabalho:</span>
                <span class="value">{{ regime_trabalho|upper }}</span>
            </div>
            <div class="info-row">
                <span class="label">Hor√°rio de Trabalho:</span>
                <span class="value">{{ horario_trabalho|default('N√£o informado') }}</span>
            </div>
            {% if horario_fim_semana %}
            <div class="info-row">
                <span class="label">Hor√°rio Fim de Semana:</span>
                <span class="value">{{ horario_fim_semana }}</span>
            </div>
            {% endif %}
            {% if folgas_semana %}
            <div class="info-row">
                <span class="label">Folgas na Semana:</span>
                <span class="value">{{ folgas_semana|replace('-', ' ') }}</span>
            </div>
            {% endif %}
            {% if fim_semana_mensal_folga %}
            <div class="info-row">
                <span class="label">Folga Mensal Fim de Semana:</span>
                <span class="value">{{ fim_semana_mensal_folga|replace('sim', 'Sim')|replace('nao', 'N√£o') }}</span>
            </div>
            {% endif %}
        </div>
        
        <!-- ========================================
             URG√äNCIA (se aplic√°vel)
             ======================================== -->
        {% if inicio_urgente == 'imediato' %}
        <div class="urgency-high">
            üî• VAGA URGENTE - IN√çCIO IMEDIATO
        </div>
        {% else %}
        <div class="info-section">
            <h3 class="section-title">‚è∞ In√≠cio da Atividade</h3>
            <div class="info-row">
                <span class="label">Previs√£o de In√≠cio:</span>
                <span class="value">{{ inicio_urgente|replace('-', ' ')|title }}</span>
            </div>
        </div>
        {% endif %}
        
        <!-- ========================================
             BENEF√çCIOS
             ======================================== -->
        {% if beneficios_list %}
        <div class="benefits-list">
            <h3 class="section-title">üí∞ Benef√≠cios Oferecidos</h3>
            {% for beneficio in beneficios_list %}
            <div class="benefit-item">{{ beneficio_names[beneficio]|default(beneficio|title) }}</div>
            {% endfor %}
        </div>
        {% endif %}
        
        <!-- ========================================
             REQUISITOS
             ======================================== -->
        <div class="info-section">
            <h3 class="section-title">üìã Requisitos</h3>
            {% if cnh_obrigatoria %}
            <div class="info-row">
                <span class="label">CNH Obrigat√≥ria:</span>
                <span class="value">{{ cnh_obrigatoria|replace('sim', 'Sim')|replace('nao', 'N√£o')|replace('desejavel', 'Desej√°vel') }}</span>
            </div>
            {% endif %}
            {% if experiencia_obrigatoria %}
            <div class="info-row">
                <span class="label">Experi√™ncia:</span>
                <span class="value">{{ experiencia_obrigatoria|replace('sim', 'Obrigat√≥ria')|replace('nao', 'N√£o obrigat√≥ria') }}</span>
            </div>
            {% endif %}
            {% if experiencia_minima %}
            <div class="info-row">
                <span class="label">Experi√™ncia M√≠nima:</span>
                <span class="value">{{ experiencia_minima|replace('-', ' ')|title }}</span>
            </div>
            {% endif %}
            {% if tem_idade_minima and idade_minima %}
            <div class="info-row">
                <span class="label">Idade M√≠nima:</span>
                <span class="value">{{ idade_minima }} anos</span>
            </div>
            {% endif %}
            {% if referencias_obrigatorias %}
            <div class="info-row">
                <span class="label">Refer√™ncias Obrigat√≥rias:</span>
                <span class="value">{{ referencias_obrigatorias|replace('sim', 'Sim')|replace('nao', 'N√£o') }}</span>
            </div>
            {% endif %}
            {% if dormir_trabalho %}
            <div class="info-row">
                <span class="label">Dormir no Trabalho:</span>
                <span class="value">{{ dormir_trabalho|replace('sim', 'Sim')|replace('nao', 'N√£o') }}</span>
            </div>
            {% endif %}
            {% if interesse_treinamento %}
            <div class="info-row">
                <span class="label">Interesse em Treinamento:</span>
                <span class="value">{{ interesse_treinamento|replace('-', ' ')|title }}</span>
            </div>
            {% endif %}
        </div>
        
        <!-- ========================================
             CARACTER√çSTICAS DA RESID√äNCIA
             ======================================== -->
        {% if tipo_residencia or tem_pets or estilo_casa %}
        <div class="info-section">
            <h3 class="section-title">üè† Caracter√≠sticas da Resid√™ncia</h3>
            {% if tipo_residencia %}
            <div class="info-row">
                <span class="label">Tipo de Resid√™ncia:</span>
                <span class="value">{{ tipo_residencia|replace('-', ' ')|title }}</span>
            </div>
            {% endif %}
            {% if estilo_casa %}
            <div class="info-row">
                <span class="label">Estilo da Casa:</span>
                <span class="value">{{ estilo_casa|title }}</span>
            </div>
            {% endif %}
            {% if frequencia_veraneio %}
            <div class="info-row">
                <span class="label">Frequ√™ncia de Veraneio:</span>
                <span class="value">{{ frequencia_veraneio|replace('-', ' ')|title }}</span>
            </div>
            {% endif %}
            <div class="info-row">
                <span class="label">Possui Pets:</span>
                <span class="value">{{ 'Sim' if tem_pets else 'N√£o' }}</span>
            </div>
            {% if tem_pets and tipos_pets %}
            <div class="info-row">
                <span class="label">Tipos de Pets:</span>
                <span class="value">{{ tipos_pets }}</span>
            </div>
            {% endif %}
            {% if tem_pets and cuidados_pets %}
            <div class="info-row">
                <span class="label">Cuidados com Pets:</span>
                <span class="value">{{ cuidados_pets }}</span>
            </div>
            {% endif %}
        </div>
        {% endif %}
        
        <!-- ========================================
             DADOS ESPEC√çFICOS DA FUN√á√ÉO
             ======================================== -->
        {% if dados_especificos %}
        <div class="specific-data">
            <h3 class="section-title">üéØ Requisitos Espec√≠ficos da Fun√ß√£o</h3>
            {% for key, value in dados_especificos.items() %}
            <div class="specific-item">
                <span class="label">{{ key|replace('_', ' ')|title }}:</span>
                <span class="value">{{ value|replace('-', ' ')|title }}</span>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        <!-- ========================================
             RESTRI√á√ïES E OBSERVA√á√ïES
             ======================================== -->
        {% if restricoes_vaga %}
        <div class="info-section">
            <h3 class="section-title">‚ö†Ô∏è Restri√ß√µes da Vaga</h3>
            <div class="observacoes-content">{{ restricoes_vaga }}</div>
        </div>
        {% endif %}
        
        {% if observacoes %}
        <div class="observacoes-section">
            <h3 class="observacoes-title">üìù Observa√ß√µes Gerais</h3>
            <div class="observacoes-content">{{ observacoes }}</div>
        </div>
        {% endif %}
        
        {% if observacoes_adicionais %}
        <div class="observacoes-section">
            <h3 class="observacoes-title">üìã Observa√ß√µes Adicionais</h3>
            <div class="observacoes-content">{{ observacoes_adicionais }}</div>
        </div>
        {% endif %}
        
        <!-- ========================================
             INFORMA√á√ïES COMPLEMENTARES
             ======================================== -->
        <div class="info-section">
            <h3 class="section-title">‚ÑπÔ∏è Informa√ß√µes Complementares</h3>
            <div class="info-row">
                <span class="label">Data de Cadastro:</span>
                <span class="value">{{ created_at_formatted }}</span>
            </div>
            {% if updated_at_formatted and updated_at_formatted != created_at_formatted %}
            <div class="info-row">
                <span class="label">√öltima Atualiza√ß√£o:</span>
                <span class="value">{{ updated_at_formatted }}</span>
            </div>
            {% endif %}
            <div class="info-row">
                <span class="label">ID da Vaga:</span>
                <span class="value">{{ id|upper }}</span>
            </div>
            {% if aceita_termos %}
            <div class="info-row">
                <span class="label">Aceita Termos:</span>
                <span class="value">‚úÖ Sim</span>
            </div>
            {% endif %}
        </div>
        
        <!-- ========================================
             FOOTER
             ======================================== -->
        <div class="footer">
            <div class="footer-logo">R.O RECRUTAMENTO</div>
            <div class="footer-subtitle">Sistema de Gest√£o de Vagas - Ficha gerada automaticamente</div>
        </div>
        
    </div>
</body>
</html>